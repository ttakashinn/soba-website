---
import { getLangFromUrl } from '../i18n/utils'

const lang = getLangFromUrl(Astro.url)

const team = {
  vi: {
    title: 'Đội ngũ của chúng tôi',
    subtitle: 'Những chuyên gia giàu kinh nghiệm sẵn sàng đồng hành cùng bạn',
    members: [
      {
        name: 'Nguyễn Văn A',
        role: 'Chief Technology Officer',
        bio: '10+ năm kinh nghiệm PHP/Laravel/Python. Đã xây dựng 20+ hệ thống quản lý doanh nghiệp cho các công ty vừa và nhỏ. Chuyên về kiến trúc hệ thống và tối ưu cơ sở dữ liệu.',
        avatar: 'NVA',
        color: 'indigo',
      },
      {
        name: 'Trần Thị B',
        role: 'Project Manager',
        bio: 'PMP certified. 5+ năm quản lý dự án IT. Đã lead 50+ projects thành công. Chuyên Agile/Scrum methodology.',
        avatar: 'TTB',
        color: 'emerald',
      },
      {
        name: 'Lê Văn C',
        role: 'Senior Full-stack Developer',
        bio: '8+ năm với React, Node.js, Docker. AWS Certified. Đam mê clean code và best practices.',
        avatar: 'LVC',
        color: 'violet',
      },
      {
        name: 'Phạm Thị D',
        role: 'UI/UX Designer',
        bio: '7+ năm thiết kế UI/UX. Chuyên design system và user research. Figma expert.',
        avatar: 'PTD',
        color: 'rose',
      },
    ],
  },
  en: {
    title: 'Our Team',
    subtitle: 'Experienced professionals ready to partner with you',
    members: [
      {
        name: 'Nguyen Van A',
        role: 'Chief Technology Officer',
        bio: '10+ years experience with PHP/Laravel/Python. Built 20+ ERP systems for SMEs. Expert in system architecture and database optimization.',
        avatar: 'NVA',
        color: 'indigo',
      },
      {
        name: 'Tran Thi B',
        role: 'Project Manager',
        bio: 'PMP certified. 5+ years of IT project management. Led 50+ successful projects. Agile/Scrum methodology expert.',
        avatar: 'TTB',
        color: 'emerald',
      },
      {
        name: 'Le Van C',
        role: 'Senior Full-stack Developer',
        bio: '8+ years with React, Node.js, Docker. AWS Certified. Passionate about clean code and best practices.',
        avatar: 'LVC',
        color: 'violet',
      },
      {
        name: 'Pham Thi D',
        role: 'UI/UX Designer',
        bio: '7+ years of UI/UX design. Expert in design systems and user research. Figma expert.',
        avatar: 'PTD',
        color: 'rose',
      },
    ],
  },
  ja: {
    title: '私たちのチーム',
    subtitle: 'あなたのパートナーとなる経験豊富なプロフェッショナル',
    members: [
      {
        name: 'Nguyen Van A',
        role: '最高技術責任者',
        bio: 'PHP/Laravel/Pythonで10年以上の経験。SME向けに20以上のERPシステムを構築。システムアーキテクチャとデータベース最適化の専門家。',
        avatar: 'NVA',
        color: 'indigo',
      },
      {
        name: 'Tran Thi B',
        role: 'プロジェクトマネージャー',
        bio: 'PMP認定。5年以上のITプロジェクト管理経験。50以上のプロジェクトを成功に導く。アジャイル/スクラム手法の専門家。',
        avatar: 'TTB',
        color: 'emerald',
      },
      {
        name: 'Le Van C',
        role: 'シニアフルスタック開発者',
        bio: 'React、Node.js、Dockerで8年以上の経験。AWS認定。クリーンコードとベストプラクティスに情熱を持つ。',
        avatar: 'LVC',
        color: 'violet',
      },
      {
        name: 'Pham Thi D',
        role: 'UI/UXデザイナー',
        bio: '7年以上のUI/UXデザイン経験。デザインシステムとユーザーリサーチの専門家。Figmaエキスパート。',
        avatar: 'PTD',
        color: 'rose',
      },
    ],
  },
}

const currentTeam = team[lang as keyof typeof team] || team.vi

const colorClasses: Record<string, { gradient: string; shadow: string }> = {
  indigo: { gradient: 'from-indigo-500 to-indigo-600', shadow: 'shadow-indigo-500/25' },
  emerald: { gradient: 'from-emerald-500 to-emerald-600', shadow: 'shadow-emerald-500/25' },
  violet: { gradient: 'from-violet-500 to-violet-600', shadow: 'shadow-violet-500/25' },
  rose: { gradient: 'from-rose-500 to-rose-600', shadow: 'shadow-rose-500/25' },
}
---

<section class='py-16 sm:py-20 lg:py-24 bg-gradient-to-br from-slate-50 to-indigo-50/30'>
  <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'>
    <div class='text-center mb-12 sm:mb-16'>
      <h2 class='text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-800 mb-3 sm:mb-4'>{currentTeam.title}</h2>
      <p class='text-base sm:text-lg lg:text-xl text-slate-600 max-w-2xl mx-auto'>{currentTeam.subtitle}</p>
      <div class='w-20 h-1 bg-gradient-to-r from-indigo-500 to-violet-400 mx-auto rounded-full mt-5 sm:mt-6'></div>
    </div>

    <div class='grid sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8'>
      {
        currentTeam.members.map((member) => (
          <div class='group'>
            <div class='bg-white rounded-2xl p-5 sm:p-6 shadow-elegant hover:shadow-elegant-lg transition-all duration-300 h-full flex flex-col border border-slate-100'>
              <!-- Avatar -->
              <div class='relative mb-5 sm:mb-6 flex justify-center'>
                <div
                  class={`w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br ${colorClasses[member.color].gradient} rounded-2xl flex items-center justify-center text-white text-xl sm:text-2xl font-bold shadow-lg ${colorClasses[member.color].shadow} group-hover:scale-105 transition-transform duration-300`}>
                  {member.avatar}
                </div>
              </div>

              <!-- Info -->
              <div class='text-center flex-1 flex flex-col'>
                <h3 class='text-lg sm:text-xl font-bold text-slate-800 mb-1'>{member.name}</h3>
                <p class='text-indigo-600 font-medium text-sm sm:text-base mb-3 sm:mb-4'>{member.role}</p>
                <p class='text-slate-600 text-sm leading-relaxed flex-1'>{member.bio}</p>

                <!-- LinkedIn icon -->
                <div class='mt-5 sm:mt-6 flex justify-center'>
                  <a
                    href='#'
                    class='w-9 h-9 sm:w-10 sm:h-10 bg-slate-100 hover:bg-indigo-600 rounded-xl flex items-center justify-center text-slate-400 hover:text-white transition-all duration-300'
                    aria-label={`${member.name} LinkedIn`}>
                    <svg class='w-4 h-4 sm:w-5 sm:h-5' fill='currentColor' viewBox='0 0 24 24'>
                      <path d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z' />
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
